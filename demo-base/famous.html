<head>
  <title>MeteorFamousViews</title>
</head>

<body>
</body>

<!-- Template.famousInit auto added to body when helpers are ready -->
<template name="famousInit">
  {{! > famous template='test'}}
  {{! >famous template='incoming' modifier='pageTransition'}}
  {{! >famous template='list' view='Scrollview'}}
</template>

<!-- we want each yield to be on a different surface -->
<template name="layout">
  {{#HeaderFooterLayout headerSize="50" footerSize="0"}}

    {{#Surface target="header" translate="[0,0,100]"}}
      <div id="header">{{> yield region="header"}}</div>
    {{/Surface}}

    <div class="container">
      <div class="row">
        <div class="col-xs-12">
          {{#RenderController target="content" transition=getTransition id="mainRC"}}
              {{>yield}}
          {{/RenderController}}
        </div>
      </div>
    </div>
  {{/HeaderFooterLayout}}
</template>

<template name="header">
  <!-- Fixed navbar -->
  <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">
          <img src="/meteor_famous_view_logo.svg" height="75" width="90">
        </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/start">QuickStart</a></li>
          {{#each menu}}
            {{#if items}}
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">{{cat}} <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  {{#each items}}
                    <li><a href="{{route}}" target={{target}}>{{name}}</a></li>
                  {{/each}}
                </ul>
              </li>
            {{else}}
              <li><a href="{{route}}" target={{target}}>{{name}}</a></li>
            {{/if}}
          {{/each}}
        </ul>
      </div><!--/.nav-collapse -->
    </div>
  </div>
</template>

<template name="home">
  {{#Surface}}
    <div id="main" role="main">
      <div class="jumbotron center">
        <h1 class="text-center">
          <img src='/meteor_famous_view_logo.svg' width='200px'>
          famous-views
          <small>
              for Meteor
              <div id="starsAndInstalls">
                <i class="fa fa-download"></i>
                <span>&nbsp;{{my.installs}}
                  <small>&nbsp; installs</small></span>
                <span>&nbsp;&nbsp;</span>
                <i class="fa fa-star"></i>
                <span>&nbsp;{{my.stars}}
                  <small>&nbsp; stars on Atmosphere</small></span>
              </div>
          </small>
        </h1>
      </div>
      <h3 class='text-center'>
        <label class='label label-primary'>
          <span class='glyphicon glyphicon-bullhorn'></span>
          Deprecation Notice: The current stable release of famous-views (0.x) has
          been deprecated.<br>  It still works great and you can still use it (it's the
          only stable release), but since the famous 0.3.5 API<br> is
          deprecated too, all future development will be focused exclusively on
          famous-views 1.x for famous 0.5+.<br>
          See the
          <a href="http://forums.famous-views.org/t/deprecation-notice-famous-views-0-x/38">Official Notice</a>
          and
          <a href="http://forums.famous-views.org/t/update-on-mixed-mode-famous-v0-5/28">
          Latest 1.x News</a> on our Forums.
        </label>
      </h3>
<p>
Famous-views (formerly famous-components)
is an attempt at a tight integration between Blaze and Famous. All the other
approaches I've seen so far side step most of Blaze, and require writing large
amounts of code in JavaScript, which felt very unnatural to me in Meteor. Meteor
code should be small, concise and easy with powerful results.

Requires
<a href="http://www.famo.us/">Famo.us</a>, using either
<a href="https://atmospherejs.com/raix/famono">raix:famono</a> or
<a href="https://atmospherejs.com/mjn/famous">mjn:famous</a>,
or via the Famous CDN if you know what you're doing.
</p>

  <p>
    <b>This site serves as both a demo and live documentation;
    explore the navbar above.</b>
    <a href="https://github.com/gadicc/meteor-famous-views/blob/master/History.md">
    <b>Please check History.md when updating!</b></a>
  </p>
  <p>
    DoingFAMOUSwithMeteor?
      <a href="https://doingthiswith.wastelands.net/users/search/famo.us">users</a>,
      <a href="https://doingthiswith.wastelands.net/apps/search/famo.us">apps</a>
  </p>

  {{>playlive mpad="ZGTm3XkR66n62xbZv" lab="8qodSnNyLjdcKx3WK"
    text="Get started right now!"}}


  <h3>Build the Famous Render Tree with Reactive Templates!</h3>

  {{#snippet lang="spacebars"}}
    {{dstache}}#Scrollview}}

      {{dstache}}#Surface size="[200,undefined]"}}
        <h1>Scrollview Example</h1>
      {{dstache}}/Surface}}

      {{dstache}}#famousEach items}}
        {{dstache}}>Surface template="item" size=reactiveSize}}
      {{dstache}}/famousEach}}

    {{dstache}}/Scrollview}}
    {{else}}
      {{#if currentLang "jade"}}
        +Scrollview
          +Surface size='[200,undefined]'
            h1 Scrollview Example
          +famousEach items
            +Surface template='item' size=reactiveSize
      {{/if}}
  {{/snippet}}

  <h3>Additional Features</h3>

  <ul>
    <li>Works with <a href="/features/iron-router">iron-router</a> out of the
    box!  Not a single line of code required.</li>
    <li><code>{{dstache}}#RenderController}}<b>{{dstache}}>yield}}</b>{{dstache}}/RenderController}}</code> for <b>transitions</b> - that's it!</li>
    <li>Views are <a href="/features/reactivity">fully reactive</a>;
    use a reactive helper to have views update
    themsleves automatically with no extra work.</li>
    <li>Typical Meteor: write your code in JavaScript, CoffeeScript, HTML and Jade</li>
  </ul>

      <h3>WIP</h3>

      <p>Not much here yet, I'll be working on this next.</p>
      <p><b>Explore the navbar</b> above to see what's done so far.
      Particularly the GridLayout and RenderController are pretty
      cool.</p>
      <p>For anything using data (like the GridLayout and Scrollview),
      try manipulating the <code>Items</code> collection, e.g.
      <code>Items.update(Items.findOne({name:'Apple'})._id, {$set: {name:'Capple'}});</code>
      in the console.  If you're on a desktop, use the mouse scrollwheel
      to simulate 'flicks'.  Scroll up to see the bounce.</p>
    </div>
  {{/Surface}}
</template>

<template name="notFound">
  {{#Surface class="pagePad"}}
    <h1>Not Found</h1>

    <p>Explore the navbar above to find the page you're looking for.</p>
  {{/Surface}}
</template>
